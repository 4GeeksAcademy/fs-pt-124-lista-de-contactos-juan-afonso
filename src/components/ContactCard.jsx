import { useNavigate } from "react-router-dom";
import useGlobalReducer from "../hooks/useGlobalReducer";
import { deleteContact } from "../services/Contacts";
import { ConfirmModal } from "./ConfirmModal";
import "../styles/ContactCard.css"
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';
import { faCommentSms, faCompass, faMobile, faPenRuler, faTrashCan } from "@fortawesome/free-solid-svg-icons";


export function ContactCard({ contact }) {
  const navigate = useNavigate();
  const { store, dispatch } = useGlobalReducer();
  const confirmId = store.contacts.confirmDeleteId;

  const askDelete = () => {
    dispatch({ type: "contacts/confirmDelete", payload: contact.id });
  };

  const onConfirm = async () => {
    dispatch({ type: "contacts/loading" });
    try {
      await deleteContact(contact.id);
      dispatch({ type: "contacts/remove", payload: contact.id });
    } catch (err) {
      dispatch({ type: "contacts/error", payload: err.message });
    }
  };

  const onCancel = () => {
    dispatch({ type: "contacts/cancelDelete" });
  };

  return (
    <>
    <article className="contenedor-article">
      <img
        src="data:image/jpeg;base64,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"
        alt="Avatar"
      />

      <div className="contenedor-datos">
        <h3>{contact.name}</h3>
        <p ><FontAwesomeIcon icon={faCompass} /> <strong>Adress:</strong> {contact.address}</p>
        <p ><FontAwesomeIcon icon={faMobile} /> <strong>Phone:</strong> {contact.phone}</p>
        <p ><FontAwesomeIcon icon={faCommentSms} /> <strong>Email:</strong> {contact.email}</p>
      </div>

      <div className="contenedor-botones-card">
        <button onClick={() => navigate(`/edit/${contact.id}`)} className="btn btn-primary rounded-pill border border-dark border-2">
          <FontAwesomeIcon icon={faPenRuler} /> Edit
        </button>
        <button onClick={askDelete} className="btn btn-danger rounded-pill border border-dark border-2" >
          <FontAwesomeIcon icon={faTrashCan} /> Delete
        </button>
      </div>

      
    </article>
    {confirmId === contact.id && (
        <ConfirmModal
          title="Delete contact"
          message={`Do you want to delete the user "${contact.name}"?`}
          onConfirm={onConfirm}
          onCancel={onCancel}
        />
      )}
    </>
  );
}
